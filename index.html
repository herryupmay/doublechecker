<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pharmacy Double Checking Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #2d4a2e;
            background: linear-gradient(135deg, #a8e6cf 0%, #7fcdcd 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(45, 74, 46, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2d5016 0%, #3e6b20 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .calculator-section {
            padding: 30px;
            border-bottom: 3px solid #e8f5e9;
        }

        .calculator-section:last-child {
            border-bottom: none;
        }

        .section-title {
            font-size: 2em;
            color: #2d5016;
            margin-bottom: 25px;
            text-align: center;
            border-bottom: 3px solid #4caf50;
            padding-bottom: 10px;
        }

        /* Tab System */
        .tab-container {
            margin-bottom: 30px;
        }

        .tab-buttons {
            display: flex;
            background: #f1f8e9;
            border-radius: 10px;
            padding: 5px;
            margin-bottom: 20px;
            gap: 5px;
        }

        .tab-button {
            flex: 1;
            padding: 15px 20px;
            background: transparent;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            color: #558b2f;
            transition: all 0.3s ease;
        }

        .tab-button.active {
            background: linear-gradient(135deg, #66bb6a 0%, #4caf50 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .tab-button:hover:not(.active) {
            background: #e8f5e9;
        }

        .tab-content {
            display: none;
            background: #f8f9fa;
            border: 2px solid #c8e6c9;
            border-radius: 15px;
            padding: 25px;
        }

        .tab-content.active {
            display: block;
        }

        /* Medication Selection */
        .medication-selector {
            margin-bottom: 25px;
        }

        .medication-selector label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2d5016;
            font-size: 1.1em;
        }

        .medication-selector select {
            width: 100%;
            padding: 12px;
            border: 2px solid #a5d6a7;
            border-radius: 8px;
            font-size: 16px;
            background: white;
            color: #2d5016;
            transition: border-color 0.3s ease;
        }

        .medication-selector select:focus {
            outline: none;
            border-color: #4caf50;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        /* Calculator Form */
        .calculator-form {
            background: #f1f8e9;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            display: none;
        }

        .calculator-form.active {
            display: block;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #2d5016;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #c8e6c9;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #4caf50;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .calculate-btn {
            background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .calculation-result {
            background: #e8f5e8;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            font-weight: bold;
            display: none;
        }

        .medication-info {
            background: #f3e5f5;
            border: 1px solid #c8e6c9;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            font-size: 0.9em;
            color: #2d4a2e;
        }

        .medication-info h4 {
            color: #2d5016;
            margin-bottom: 10px;
        }

        .nzf-link {
            display: inline-block;
            background: #4caf50;
            color: white;
            padding: 8px 15px;
            text-decoration: none;
            border-radius: 5px;
            margin-top: 10px;
            transition: background 0.3s ease;
        }

        .nzf-link:hover {
            background: #388e3c;
        }

        .result-display {
            background: #e8f5e8;
            border: 2px solid #4caf50;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            font-size: 1.1em;
            display: none;
        }

        .warning {
            background: #fff8e1;
            border: 2px solid #ffa726;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #ef6c00;
        }

        /* Insulin and Eyedrop Calculators */
        .simple-calculator {
            background: #f1f8e9;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .tab-buttons {
                flex-direction: column;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè• Pharmacy Double Checking Calculator</h1>
            <p>Comprehensive dosing calculator for children's medicines, insulin, and eyedrops</p>
        </div>

        <!-- Children's Medicine Calculator -->
        <div class="calculator-section">
            <h2 class="section-title">üë∂ Children's Medicine Calculator</h2>
            
            <div class="medication-info" style="margin-bottom: 25px; background: #e8f5e8; border-color: #4caf50;">
                <h4>üìã How to Use:</h4>
                <p>1. Click on a medication category tab (Analgesics, Antibiotics, or Other)</p>
                <p>2. Select the specific medication from the dropdown menu</p>
                <p>3. The calculator form will appear where you can enter the child's weight</p>
                <p>4. Click Calculate to get both dose (mg) and volume (mL) results</p>
            </div>
            
            <div class="tab-container">
                <div class="tab-buttons">
                    <button class="tab-button active" onclick="switchTab('analgesics')">üíä Analgesics</button>
                    <button class="tab-button" onclick="switchTab('antibiotics')">ü¶† Antibiotics</button>
                    <button class="tab-button" onclick="switchTab('other')">üî¨ Other</button>
                </div>

                <!-- Analgesics Tab -->
                <div id="analgesics" class="tab-content active">
                    <div class="medication-selector">
                        <label for="analgesic-select">Select Analgesic:</label>
                        <select id="analgesic-select" onchange="showMedicationForm('analgesics', this.value)">
                            <option value="">Choose medication...</option>
                            <option value="paracetamol-120">Paracetamol 120mg/5mL</option>
                            <option value="paracetamol-250">Paracetamol 250mg/5mL</option>
                            <option value="ibuprofen">Ibuprofen 100mg/5mL</option>
                        </select>
                    </div>

                    <!-- Paracetamol 120mg/5mL Form -->
                    <div id="paracetamol-120-form" class="calculator-form">
                        <h3>Paracetamol 120mg/5mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="para120_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="para120_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateParacetamol120()">Calculate</button>
                        <div id="para120_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>Child 1 month‚Äì18 years:</strong> 15 mg/kg per dose (maximum 1 g) every 4 hours; maximum 75 mg/kg per day (without exceeding 4 g) for 48 hours, maximum of 60 mg/kg per day (without exceeding 4 g) thereafter</p>
                            <p><strong>Note:</strong> A loading dose of 30 mg/kg (maximum 1.5 g) may be given provided there has been no paracetamol given within the preceding 12 hours.</p>
                            <a href="https://nzfchildren.org.nz/nzf_2439" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Paracetamol 250mg/5mL Form -->
                    <div id="paracetamol-250-form" class="calculator-form">
                        <h3>Paracetamol 250mg/5mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="para250_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="para250_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateParacetamol250()">Calculate</button>
                        <div id="para250_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>Child 1 month‚Äì18 years:</strong> 15 mg/kg per dose (maximum 1 g) every 4 hours; maximum 75 mg/kg per day (without exceeding 4 g) for 48 hours, maximum of 60 mg/kg per day (without exceeding 4 g) thereafter</p>
                            <p><strong>Note:</strong> A loading dose of 30 mg/kg (maximum 1.5 g) may be given provided there has been no paracetamol given within the preceding 12 hours.</p>
                            <a href="https://nzfchildren.org.nz/nzf_2439" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Ibuprofen Form -->
                    <div id="ibuprofen-form" class="calculator-form">
                        <h3>Ibuprofen 100mg/5mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="ibuprofen_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Dose (mg/kg):</label>
                                <select id="ibuprofen_dose">
                                    <option value="5">5 mg/kg (1-3 months)</option>
                                    <option value="10">10 mg/kg (3 months-18 years)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="ibuprofen_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateIbuprofen()">Calculate</button>
                        <div id="ibuprofen_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>1-3 months:</strong> 5 mg/kg 3-4 times daily</p>
                            <p><strong>3 months-18 years:</strong> 5-10 mg/kg 3 or 4 times daily up to 30 mg/kg daily (maximum 2.4 g daily)</p>
                            <a href="https://nzfchildren.org.nz/nzf_5524" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>
                </div>

                <!-- Antibiotics Tab -->
                <div id="antibiotics" class="tab-content">
                    <div class="medication-selector">
                        <label for="antibiotic-select">Select Antibiotic:</label>
                        <select id="antibiotic-select" onchange="showMedicationForm('antibiotics', this.value)">
                            <option value="">Choose medication...</option>
                            <option value="amoxicillin-125">Amoxicillin 125mg/5mL</option>
                            <option value="amoxicillin-250">Amoxicillin 250mg/5mL</option>
                            <option value="cefaclor-125">Cefaclor 125mg/5mL</option>
                            <option value="cefalexin-125">Cefalexin 125mg/5mL</option>
                            <option value="cefalexin-250">Cefalexin 250mg/5mL</option>
                            <option value="co-amoxiclav-125">Co-amoxiclav 125‚Äì31.25mg/5mL</option>
                            <option value="co-amoxiclav-250">Co-amoxiclav 250‚Äì62.5mg/5mL</option>
                            <option value="cotrimoxazole-240">Cotrimoxazole 240mg/5mL</option>
                            <option value="erythromycin-200">Erythromycin 200mg/5mL</option>
                            <option value="erythromycin-400">Erythromycin 400mg/5mL</option>
                            <option value="flucloxacillin-125">Flucloxacillin 125mg/5mL</option>
                            <option value="flucloxacillin-250">Flucloxacillin 250mg/5mL</option>
                            <option value="phenoxymethylpenicillin-125">Phenoxymethylpenicillin 125mg/5mL</option>
                            <option value="phenoxymethylpenicillin-250">Phenoxymethylpenicillin 250mg/5mL</option>
                            <option value="roxithromycin-150">Roxithromycin 150mg tablets</option>
                        </select>
                    </div>

                    <!-- Amoxicillin 125mg/5mL Form -->
                    <div id="amoxicillin-125-form" class="calculator-form">
                        <h3>Amoxicillin 125mg/5mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="amox125_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Dose type:</label>
                                <select id="amox125_type">
                                    <option value="standard">Standard (15-30 mg/kg)</option>
                                    <option value="strep_under15">Strep A - Under 15kg (50 mg/kg)</option>
                                    <option value="strep_15to30">Strep A - 15-29.9kg (750mg)</option>
                                    <option value="strep_over30">Strep A - 30kg+ (1000mg)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="amox125_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateAmoxicillin125()">Calculate</button>
                        <div id="amox125_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>1 month - 18 years:</strong> 15-30mg/kg (maximum 1,000mg) three times daily</p>
                            <p><strong>Strep A Dosing:</strong></p>
                            <ul>
                                <li><strong>Under 15kg:</strong> 50mg/kg once daily for 10 days</li>
                                <li><strong>15-29.9kg:</strong> 750mg once daily for 10 days</li>
                                <li><strong>30kg or over:</strong> 1,000mg once daily for 10 days</li>
                            </ul>
                            <a href="https://nzfchildren.org.nz/nzf_3025" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Amoxicillin 250mg/5mL Form -->
                    <div id="amoxicillin-250-form" class="calculator-form">
                        <h3>Amoxicillin 250mg/5mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="amox250_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Dose type:</label>
                                <select id="amox250_type">
                                    <option value="standard">Standard (15-30 mg/kg)</option>
                                    <option value="strep_under15">Strep A - Under 15kg (50 mg/kg)</option>
                                    <option value="strep_15to30">Strep A - 15-29.9kg (750mg)</option>
                                    <option value="strep_over30">Strep A - 30kg+ (1000mg)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="amox250_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateAmoxicillin250()">Calculate</button>
                        <div id="amox250_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>1 month - 18 years:</strong> 15-30mg/kg (maximum 1,000mg) three times daily</p>
                            <p><strong>Strep A Dosing:</strong></p>
                            <ul>
                                <li><strong>Under 15kg:</strong> 50mg/kg once daily for 10 days</li>
                                <li><strong>15-29.9kg:</strong> 750mg once daily for 10 days</li>
                                <li><strong>30kg or over:</strong> 1,000mg once daily for 10 days</li>
                            </ul>
                            <a href="https://nzfchildren.org.nz/nzf_3025" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Cefaclor 125mg/5mL Form -->
                    <div id="cefaclor-125-form" class="calculator-form">
                        <h3>Cefaclor 125mg/5mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="cefaclor125_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="cefaclor125_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateCefaclor125()">Calculate</button>
                        <div id="cefaclor125_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>1 month - 18 years:</strong> 10 mg/kg (maximum 500 mg) three times daily</p>
                            <a href="https://nzfchildren.org.nz/nzf_3052" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Cefalexin 125mg/5mL Form -->
                    <div id="cefalexin-125-form" class="calculator-form">
                        <h3>Cefalexin 125mg/5mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="cef125_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Indication:</label>
                                <select id="cef125_indication">
                                    <option value="uti">UTI (25 mg/kg)</option>
                                    <option value="cellulitis">Cellulitis (12.5 mg/kg)</option>
                                    <option value="impetigo">Impetigo (12.5-25 mg/kg)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="cef125_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateCefalexin125()">Calculate</button>
                        <div id="cef125_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>Acute uncomplicated UTIs:</strong> 1 month - 18 years: 25 mg/kg (maximum 500mg) THREE times daily for three days; or seven days in moderate to severe infection</p>
                            <p><strong>Mild to moderate cellulitis:</strong> 1 month - 18 years: 12.5 mg/kg (maximum 1 g) TWO to FOUR times daily for five days</p>
                            <p><strong>Impetigo with extensive or multiple lesions:</strong> 1 month - 18 years: 12.5 - 25 mg/kg (maximum 1 g) TWICE daily</p>
                            <a href="https://nzfchildren.org.nz/nzf_3058" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Cefalexin 250mg/5mL Form -->
                    <div id="cefalexin-250-form" class="calculator-form">
                        <h3>Cefalexin 250mg/5mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="cef250_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Indication:</label>
                                <select id="cef250_indication">
                                    <option value="uti">UTI (25 mg/kg)</option>
                                    <option value="cellulitis">Cellulitis (12.5 mg/kg)</option>
                                    <option value="impetigo">Impetigo (12.5-25 mg/kg)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="cef250_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateCefalexin250()">Calculate</button>
                        <div id="cef250_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>Acute uncomplicated UTIs:</strong> 1 month - 18 years: 25 mg/kg (maximum 500mg) THREE times daily for three days; or seven days in moderate to severe infection</p>
                            <p><strong>Mild to moderate cellulitis:</strong> 1 month - 18 years: 12.5 mg/kg (maximum 1 g) TWO to FOUR times daily for five days</p>
                            <p><strong>Impetigo with extensive or multiple lesions:</strong> 1 month - 18 years: 12.5 - 25 mg/kg (maximum 1 g) TWICE daily</p>
                            <a href="https://nzfchildren.org.nz/nzf_3058" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Co-amoxiclav 125‚Äì31.25mg/5mL Form -->
                    <div id="co-amoxiclav-125-form" class="calculator-form">
                        <h3>Co-amoxiclav 125‚Äì31.25mg/5mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="coamox125_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Dose type:</label>
                                <select id="coamox125_type">
                                    <option value="standard">Standard (15-30 mg/kg)</option>
                                    <option value="strep_repeat">Strep A - 3rd+ episode (16.7 mg/kg)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="coamox125_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateCoAmoxiclav125()">Calculate</button>
                        <div id="coamox125_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>1 month - 18 years:</strong> 15-30 mg/kg (maximum 625 mg) 3 times daily</p>
                            <p><strong>Note:</strong> Oral doses are expressed as the total dose of amoxicillin + clavulanic acid (ratio 4:1); 15-30 mg of the total (amoxicillin + clavulanic acid) contains 12-24 mg of amoxicillin.</p>
                            <p><strong>Strep A Dosing (Third or More Episode within 3 months):</strong></p>
                            <p><strong>Child:</strong> 16.7 mg/kg (maximum dose 833 mg) 3 times daily for 10 days (50 mg/kg daily, maximum 2.5 g daily)</p>
                            <a href="https://nzfchildren.org.nz/nzf_3032" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Co-amoxiclav 250‚Äì62.5mg/5mL Form -->
                    <div id="co-amoxiclav-250-form" class="calculator-form">
                        <h3>Co-amoxiclav 250‚Äì62.5mg/5mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="coamox250_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Dose type:</label>
                                <select id="coamox250_type">
                                    <option value="standard">Standard (15-30 mg/kg)</option>
                                    <option value="strep_repeat">Strep A - 3rd+ episode (16.7 mg/kg)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="coamox250_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateCoAmoxiclav250()">Calculate</button>
                        <div id="coamox250_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>1 month - 18 years:</strong> 15-30 mg/kg (maximum 625 mg) 3 times daily</p>
                            <p><strong>Note:</strong> Oral doses are expressed as the total dose of amoxicillin + clavulanic acid (ratio 4:1); 15-30 mg of the total (amoxicillin + clavulanic acid) contains 12-24 mg of amoxicillin.</p>
                            <p><strong>Strep A Dosing (Third or More Episode within 3 months):</strong></p>
                            <p><strong>Child:</strong> 16.7 mg/kg (maximum dose 833 mg) 3 times daily for 10 days (50 mg/kg daily, maximum 2.5 g daily)</p>
                            <a href="https://nzfchildren.org.nz/nzf_3032" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Cotrimoxazole 240mg/5mL Form -->
                    <div id="cotrimoxazole-240-form" class="calculator-form">
                        <h3>Cotrimoxazole 240mg/5mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="cotrim240_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="cotrim240_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateCotrimoxazole240()">Calculate</button>
                        <div id="cotrim240_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>6 weeks - 18 years:</strong> 24 mg/kg (maximum 960 mg) twice daily</p>
                            <a href="https://nzfchildren.org.nz/nzf_3200" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Erythromycin 200mg/5mL Form -->
                    <div id="erythromycin-200-form" class="calculator-form">
                        <h3>Erythromycin 200mg/5mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="ery200_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Dose type:</label>
                                <select id="ery200_type">
                                    <option value="standard">Standard (10-12.5 mg/kg)</option>
                                    <option value="strep">Strep A (20 mg/kg twice daily)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="ery200_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateErythromycin200()">Calculate</button>
                        <div id="ery200_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>Note:</strong> Erythromycin has two forms: erythromycin ethylsuccinate, and erythromycin stearate. This calculator uses the former, and this should be specified on the prescription</p>
                            <p><strong>General Dosing:</strong></p>
                            <p><strong>1 month - 18 years:</strong> 10-12.5 mg/kg every 6 hours (usual maximum 1.6 g daily; maximum 4 g daily in severe infection)</p>
                            <p><strong>Strep A Dosing:</strong></p>
                            <p><strong>Child:</strong> 20 mg/kg twice daily; maximum 800 mg twice daily for 10 days</p>
                            <a href="https://nzfchildren.org.nz/nzf_3154" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Erythromycin 400mg/5mL Form -->
                    <div id="erythromycin-400-form" class="calculator-form">
                        <h3>Erythromycin 400mg/5mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="ery400_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Dose type:</label>
                                <select id="ery400_type">
                                    <option value="standard">Standard (10-12.5 mg/kg)</option>
                                    <option value="strep">Strep A (20 mg/kg twice daily)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="ery400_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateErythromycin400()">Calculate</button>
                        <div id="ery400_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>Note:</strong> Erythromycin has two forms: erythromycin ethylsuccinate, and erythromycin stearate. This calculator uses the former, and this should be specified on the prescription</p>
                            <p><strong>General Dosing:</strong></p>
                            <p><strong>1 month - 18 years:</strong> 10-12.5 mg/kg every 6 hours (usual maximum 1.6 g daily; maximum 4 g daily in severe infection)</p>
                            <p><strong>Strep A Dosing:</strong></p>
                            <p><strong>Child:</strong> 20 mg/kg twice daily; maximum 800 mg twice daily for 10 days</p>
                            <a href="https://nzfchildren.org.nz/nzf_3154" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Flucloxacillin 125mg/5mL Form -->
                    <div id="flucloxacillin-125-form" class="calculator-form">
                        <h3>Flucloxacillin 125mg/5mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="fluc125_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Dose (mg/kg):</label>
                                <select id="fluc125_dose">
                                    <option value="12.5">12.5 mg/kg (standard)</option>
                                    <option value="25">25 mg/kg (severe infection)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="fluc125_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateFlucloxacillin125()">Calculate</button>
                        <div id="fluc125_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>1 month - 18 years:</strong> 12.5-25 mg/kg (usually up to 500 mg; maximum 1 g) 4 times daily</p>
                            <p><strong>Note:</strong> High doses (25 mg/kg, maximum 1 g) should be used in severe infection (e.g. step-down therapy from intravenous to oral dosing, or deep site infection). High oral doses may be poorly tolerated due to gastrointestinal adverse effects.</p>
                            <a href="https://nzfchildren.org.nz/nzf_3012" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Flucloxacillin 250mg/5mL Form -->
                    <div id="flucloxacillin-250-form" class="calculator-form">
                        <h3>Flucloxacillin 250mg/5mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="fluc250_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Dose (mg/kg):</label>
                                <select id="fluc250_dose">
                                    <option value="12.5">12.5 mg/kg (standard)</option>
                                    <option value="25">25 mg/kg (severe infection)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="fluc250_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateFlucloxacillin250()">Calculate</button>
                        <div id="fluc250_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>1 month - 18 years:</strong> 12.5-25 mg/kg (usually up to 500 mg; maximum 1 g) 4 times daily</p>
                            <p><strong>Note:</strong> High doses (25 mg/kg, maximum 1 g) should be used in severe infection (e.g. step-down therapy from intravenous to oral dosing, or deep site infection). High oral doses may be poorly tolerated due to gastrointestinal adverse effects.</p>
                            <a href="https://nzfchildren.org.nz/nzf_3012" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Phenoxymethylpenicillin 125mg/5mL Form -->
                    <div id="phenoxymethylpenicillin-125-form" class="calculator-form">
                        <h3>Phenoxymethylpenicillin 125mg/5mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="phenoxy125_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Dose type:</label>
                                <select id="phenoxy125_type">
                                    <option value="standard">Standard (6.25-12.5 mg/kg)</option>
                                    <option value="strep_under20">Strep A - Under 20kg (250mg)</option>
                                    <option value="strep_over20">Strep A - Over 20kg (500mg)</option>
                                    <option value="strep_repeat">Strep A - 3rd+ episode (12.5 mg/kg)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="phenoxy125_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculatePhenoxymethylpenicillin125()">Calculate</button>
                        <div id="phenoxy125_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>1 month - 18 years:</strong> 6.25-12.5 mg/kg (maximum 250-500 mg) 4 times daily</p>
                            <p><strong>Strep A Dosing (First and Second Episodes):</strong></p>
                            <ul>
                                <li><strong>Under 20kg:</strong> 250 mg 2-3 times daily for 10 days</li>
                                <li><strong>Over 20kg:</strong> 500 mg 2-3 times daily for 10 days</li>
                            </ul>
                            <p><strong>Strep A Dosing (Third or More Episode within 3 months):</strong></p>
                            <p><strong>Child:</strong> 12.5 mg/kg (maximum 500 mg) 4 times daily for 10 days, in combination with rifampicin at 20 mg/kg (maximum 600 mg) once daily for 4 days, beginning on day 7 of the phenoxymethylpenicillin or amoxicillin course (requires specialist approval)</p>
                            <a href="https://nzfchildren.org.nz/nzf_3006" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Phenoxymethylpenicillin 250mg/5mL Form -->
                    <div id="phenoxymethylpenicillin-250-form" class="calculator-form">
                        <h3>Phenoxymethylpenicillin 250mg/5mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="phenoxy250_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Dose type:</label>
                                <select id="phenoxy250_type">
                                    <option value="standard">Standard (6.25-12.5 mg/kg)</option>
                                    <option value="strep_under20">Strep A - Under 20kg (250mg)</option>
                                    <option value="strep_over20">Strep A - Over 20kg (500mg)</option>
                                    <option value="strep_repeat">Strep A - 3rd+ episode (12.5 mg/kg)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="phenoxy250_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculatePhenoxymethylpenicillin250()">Calculate</button>
                        <div id="phenoxy250_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>1 month - 18 years:</strong> 6.25-12.5 mg/kg (maximum 250-500 mg) 4 times daily</p>
                            <p><strong>Strep A Dosing (First and Second Episodes):</strong></p>
                            <ul>
                                <li><strong>Under 20kg:</strong> 250 mg 2-3 times daily for 10 days</li>
                                <li><strong>Over 20kg:</strong> 500 mg 2-3 times daily for 10 days</li>
                            </ul>
                            <p><strong>Strep A Dosing (Third or More Episode within 3 months):</strong></p>
                            <p><strong>Child:</strong> 12.5 mg/kg (maximum 500 mg) 4 times daily for 10 days, in combination with rifampicin at 20 mg/kg (maximum 600 mg) once daily for 4 days, beginning on day 7 of the phenoxymethylpenicillin or amoxicillin course (requires specialist approval)</p>
                            <a href="https://nzfchildren.org.nz/nzf_3006" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Roxithromycin 150mg tablets Form -->
                    <div id="roxithromycin-150-form" class="calculator-form">
                        <h3>Roxithromycin 150mg tablets Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="roxi150_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Dose type:</label>
                                <select id="roxi150_type">
                                    <option value="standard">Standard (2.5-4 mg/kg)</option>
                                    <option value="strep">Strep A (2.5 mg/kg)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Number of tablets:</label>
                                <input type="number" id="roxi150_tablets" step="0.5" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateRoxithromycin150()">Calculate</button>
                        <div id="roxi150_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>under 40 kg:</strong> 2.5-4 mg/kg (maximum 150 mg) twice daily</p>
                            <p><strong>over 40 kg:</strong> 150 mg twice daily</p>
                            <p><strong>Strep A Dosing:</strong></p>
                            <ul>
                                <li><strong>under 40 kg:</strong> 2.5 mg/kg twice daily for 10 days</li>
                                <li><strong>over 40 kg:</strong> 150 mg twice daily for 10 days</li>
                            </ul>
                            <a href="https://nzfchildren.org.nz/nzf_3161" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>
                </div>

                <!-- Other Medications Tab -->
                <div id="other" class="tab-content">
                    <div class="medication-selector">
                        <label for="other-select">Select Medication:</label>
                        <select id="other-select" onchange="showMedicationForm('other', this.value)">
                            <option value="">Choose medication...</option>
                            <option value="cetirizine">Cetirizine 1mg/mL</option>
                            <option value="prednisolone">Prednisolone 5mg/1mL</option>
                            <option value="lactulose">Lactulose</option>
                            <option value="loratadine">Loratadine 1mg/1mL</option>
                            <option value="macrogol">Macrogol 13.12g/sachet</option>
                            <option value="ferrous-sulphate">Ferrous sulphate 30mg/1mL</option>
                            <option value="colecalciferol">Colecalciferol (Vitamin D) 188mcg/mL</option>
                            <option value="omeprazole-1">Omeprazole 1mg/mL</option>
                            <option value="omeprazole-2">Omeprazole 2mg/mL</option>
                        </select>
                    </div>

                    <!-- Cetirizine Form -->
                    <div id="cetirizine-form" class="calculator-form">
                        <h3>Cetirizine 1mg/mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's age:</label>
                                <select id="cetirizine_age">
                                    <option value="">Select age group...</option>
                                    <option value="6-11months">6-11 months</option>
                                    <option value="12-23months">12-23 months</option>
                                    <option value="2-5years">2-5 years</option>
                                    <option value="6-11years">6-11 years</option>
                                    <option value="12-18years">12-18 years</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="cetirizine_volume" step="0.1" min="0" placeholder="Enter volume in mL">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateCetirizine()">Calculate </button>
                        <div id="cetirizine_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>Oral liquid hydrochloride 1 mg/mL</strong></p>
                            <p><strong>Child 6‚Äì11 months:</strong> 2.5 mg once daily</p>
                            <p><strong>Child 12‚Äì23 months:</strong> 2.5 mg once daily, increased to a maximum of 2.5 mg twice daily as required</p>
                            <p><strong>Child 2‚Äì5 years:</strong> 2.5 mg once daily, increased to a maximum of 5 mg daily in 1 or 2 divided doses</p>
                            <p><strong>Child 6‚Äì11 years:</strong> 5‚Äì10 mg once daily depending on symptom severity</p>
                            <p><strong>Child 12‚Äì18 years:</strong> 5‚Äì10 mg once daily depending on symptom severity; usual starting dose is 10 mg</p>
                            <a href="https://nzfchildren.org.nz/nzfc_1840" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Prednisolone Form -->
                    <div id="prednisolone-form" class="calculator-form">
                        <h3>Prednisolone 5mg/1mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="pred_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Dose (mg/kg):</label>
                                <select id="pred_dose">
                                    <option value="1">1 mg/kg (standard)</option>
                                    <option value="2">2 mg/kg (high dose/chronic steroid)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="pred_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculatePrednisolone()">Calculate</button>
                        <div id="pred_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>Child:</strong> 1-2 mg/kg (maximum 40 mg) once daily for 3-5 days; if child has been taking an oral corticosteroid for more than a few days, give 2 mg/kg (maximum 60 mg) once daily for at least 5 days</p>
                            <a href="https://nzfchildren.org.nz/nzf_3846" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Lactulose Form -->
                    <div id="lactulose-form" class="calculator-form">
                        <h3>Lactulose Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="lactulose_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="lactulose_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateLactulose()">Calculate</button>
                        <div id="lactulose_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>1 month - 1 years:</strong> 2.5 mL twice daily, adjusted according to response</p>
                            <p><strong>1 - 5 years:</strong> 2.5-10 mL twice daily, adjusted according to response</p>
                            <p><strong>5 - 18 years:</strong> 5-20 mL twice daily, adjusted according to response</p>
                            <p><strong>Note:</strong> This calculator uses the UpToDate dosing of 0.5 mL/kg</p>
                            <a href="https://nzfchildren.org.nz/nzf_895" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Loratadine Form -->
                    <div id="loratadine-form" class="calculator-form">
                        <h3>Loratadine 1mg/1mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Age/weight category:</label>
                                <select id="loratadine_category">
                                    <option value="">Select category...</option>
                                    <option value="1-2years">1-2 years (2.5 mg)</option>
                                    <option value="2-12under30">2-12 years under 30kg (5 mg)</option>
                                    <option value="2-12over30">2-12 years over 30kg (10 mg)</option>
                                    <option value="12-18years">12-18 years (10 mg)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="loratadine_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateLoratadine()">Calculate</button>
                        <div id="loratadine_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>1 - 2 years:</strong> 2.5 mg once daily</p>
                            <p><strong>2 - 12 years under 30kg:</strong> 5 mg once daily</p>
                            <p><strong>2 - 12 years over 30kg:</strong> 10 mg once daily</p>
                            <p><strong>12 - 18 years:</strong> 10 mg once daily</p>
                            <a href="https://nzfchildren.org.nz/nzf_1848" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Macrogol Form -->
                    <div id="macrogol-form" class="calculator-form">
                        <h3>Macrogol 13.12g/sachet Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="macrogol_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Dose type:</label>
                                <select id="macrogol_type">
                                    <option value="disimpaction">Disimpaction (1.5 g/kg)</option>
                                    <option value="maintenance">Maintenance (0.5 g/kg)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Number of sachets:</label>
                                <input type="number" id="macrogol_sachets" step="0.5" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateMacrogol()">Calculate</button>
                        <div id="macrogol_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>12 - 18 years:</strong> 1 sachet once daily, increase to 2-3 sachets daily if required; contents of each sachet dissolved in half a glass (approximately 125 mL) of water</p>
                            <p><strong>2 - 18 years:</strong> The NZF only provides dosing advice for the unfunded Lax-Sachets Half for this age group. Therefore this calculator uses 1.5g/kg for disimpaction (starship advises 1-1.5g/kg), and a maintenance dose of 0.5g/kg</p>
                            <a href="https://nzfchildren.org.nz/nzf_897" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Ferrous Sulphate Form -->
                    <div id="ferrous-sulphate-form" class="calculator-form">
                        <h3>Ferrous Sulphate 30mg/1mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's weight (kg):</label>
                                <input type="number" id="ferrous_weight" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label>Dose (mL/kg):</label>
                                <select id="ferrous_dose">
                                    <option value="0.5">0.5 mL/kg (minimum)</option>
                                    <option value="1">1 mL/kg (maximum)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="ferrous_volume" step="0.1" min="0">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateFerrousSulphate()">Calculate</button>
                        <div id="ferrous_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>Oral liquid (30 mg/mL‚Äîequivalent to 6 mg/mL elemental iron)</strong></p>
                            <p><strong>Child 1 month - 12 years:</strong> 0.5-1 mL/kg daily up to maximum 30 mL daily in 2-3 divided doses</p>
                            <p><strong>Child 12 - 18 years:</strong> 15-30 mL daily in 1-2 divided doses</p>
                            <a href="https://nzfchildren.org.nz/nzf_4915" class="nzf-link" target="_blank">NZF Reference</a>
                        </div>
                    </div>

                    <!-- Colecalciferol (Vitamin D) Form -->
                    <div id="colecalciferol-form" class="calculator-form">
                        <h3>Colecalciferol (Vitamin D) 188mcg/mL Calculator</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Child's age:</label>
                                <select id="colecalciferol_age">
                                    <option value="">Select age group...</option>
                                    <option value="neonate">Neonate</option>
                                    <option value="1month-12years">1 month - 12 years</option>
                                    <option value="12-18years">12 - 18 years</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Dosing frequency (for 12-18 years only):</label>
                                <select id="colecalciferol_frequency">
                                    <option value="daily">Daily (10 mcg)</option>
                                    <option value="monthly">Monthly (1.25 mg)</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="input-group">
                                <label>Reverse calculation - Drops given:</label>
                                <input type="number" id="colecalciferol_drops" step="1" min="0" placeholder="Enter number of drops">
                            </div>
                            <div class="input-group">
                                <label>Reverse calculation - Volume given (mL):</label>
                                <input type="number" id="colecalciferol_volume" step="0.01" min="0" placeholder="Enter volume in mL">
                            </div>
                        </div>
                        <button class="calculate-btn" onclick="calculateColecalciferol()">Calculate Vitamin D Dose</button>
                        <div id="colecalciferol_result" class="calculation-result"></div>
                        <div class="medication-info">
                            <h4>Dosing Information:</h4>
                            <p><strong>Neonate:</strong> 10 micrograms (400 units) daily</p>
                            <p><strong>Child 1 month‚Äì12 years:</strong> 10 micrograms (400 units) daily</p>
                            <p><strong>Child 12‚Äì18 years:</strong> 10 micrograms (400 units) daily, <em>or</em> 1.25 mg (50,000 units) once a month</p>
                            <p><strong>Note:</strong> As an alternative for children aged 1‚Äì12 years, colecalciferol 1.25 mg (50,000 units) once every 2 to 3 months has been recommended by some paediatric endocrinologists.</p>
                            <p><strong>Concentration:</strong> 188 mcg/mL (10 mcg/drop)</p>
                            <a href="https://nzfchildren.org.nz/nzfc_5385" class="nzf-link" target="_blank">NZF Reference</a>
                            </div>
                            </div>
                            <!-- Omeprazole 1mg/mL Form -->
                            <div id="omeprazole-1-form" class="calculator-form">
                                <h3>Omeprazole 1mg/mL Calculator</h3>
                                <div class="form-row">
                                    <div class="input-group">
                                        <label>Patient category:</label>
                                        <select id="omeprazole1_category">
                                            <option value="">Select category...</option>
                                            <option value="neonate">Neonate</option>
                                            <option value="1month-2years">1 month - 2 years</option>
                                            <option value="over2">2 years and over</option>
                                        </select>
                                    </div>
                                    <div class="input-group">
                                        <label>Child's weight (kg):</label>
                                        <input type="number" id="omeprazole1_weight" step="0.1" min="0">
                                    </div>
                                    <div class="input-group">
                                        <label>Reverse calculation - Volume given (mL):</label>
                                        <input type="number" id="omeprazole1_volume" step="0.1" min="0">
                                    </div>
                                </div>
                                <button class="calculate-btn" onclick="calculateOmeprazole1()">Calculate</button>
                                <div id="omeprazole1_result" class="calculation-result"></div>
                                <div class="medication-info">
                                    <h4>Dosing Information:</h4>
                                    <p><strong>Neonate:</strong> 700 micrograms/kg once daily, increased if necessary after 7‚Äì14 days to 1.4 mg/kg;
                                        some neonates may require up to 2.8 mg/kg once daily</p>
                                    <p><strong>Child 1 month‚Äì2 years:</strong> 700 micrograms/kg once daily, increased if necessary to 3 mg/kg
                                        (maximum 20 mg) once daily</p>
                                    <p><strong>Body-weight 10‚Äì20 kg:</strong> 10 mg once daily increased if necessary to 20 mg once daily</p>
                                    <p><strong>Body-weight over 20 kg:</strong> 20 mg once daily increased if necessary to 40 mg once daily</p>
                                    <a href="https://nzfchildren.org.nz/nzfc_771" class="nzf-link" target="_blank">NZF Reference</a>
                                </div>
                            </div>
                            
                            <!-- Omeprazole 2mg/mL Form -->
                            <div id="omeprazole-2-form" class="calculator-form">
                                <h3>Omeprazole 2mg/mL Calculator</h3>
                                <div class="form-row">
                                    <div class="input-group">
                                        <label>Patient category:</label>
                                        <select id="omeprazole2_category">
                                            <option value="">Select category...</option>
                                            <option value="neonate">Neonate</option>
                                            <option value="1month-2years">1 month - 2 years</option>
                                            <option value="over2">2 years and over</option>
                                        </select>
                                    </div>
                                    <div class="input-group">
                                        <label>Child's weight (kg):</label>
                                        <input type="number" id="omeprazole2_weight" step="0.1" min="0">
                                    </div>
                                    <div class="input-group">
                                        <label>Reverse calculation - Volume given (mL):</label>
                                        <input type="number" id="omeprazole2_volume" step="0.1" min="0">
                                    </div>
                                </div>
                                <button class="calculate-btn" onclick="calculateOmeprazole2()">Calculate</button>
                                <div id="omeprazole2_result" class="calculation-result"></div>
                                <div class="medication-info">
                                    <h4>Dosing Information:</h4>
                                    <p><strong>Neonate:</strong> 700 micrograms/kg once daily, increased if necessary after 7‚Äì14 days to 1.4 mg/kg;
                                        some neonates may require up to 2.8 mg/kg once daily</p>
                                    <p><strong>Child 1 month‚Äì2 years:</strong> 700 micrograms/kg once daily, increased if necessary to 3 mg/kg
                                        (maximum 20 mg) once daily</p>
                                    <p><strong>Body-weight 10‚Äì20 kg:</strong> 10 mg once daily increased if necessary to 20 mg once daily</p>
                                    <p><strong>Body-weight over 20 kg:</strong> 20 mg once daily increased if necessary to 40 mg once daily</p>
                                    <a href="https://nzfchildren.org.nz/nzfc_771" class="nzf-link" target="_blank">NZF Reference</a>
                                </div>
                            </div>
                            </div>
                            </div>
                            </div>

        <!-- Insulin Calculator -->
        <div class="calculator-section">
            <h2 class="section-title">üíâ Insulin Calculator</h2>
            <div class="simple-calculator">
                <div class="form-row">
                    <div class="input-group">
                        <label>Total units per day:</label>
                        <input type="number" id="insulin_units" step="1" min="0">
                    </div>
                    <div class="input-group">
                        <label>Days of supply:</label>
                        <input type="number" id="insulin_days" step="1" min="1" value="30">
                    </div>
                </div>
                <button class="calculate-btn" onclick="calculateInsulin()">Calculate Insulin Supply</button>
                <div id="insulin_result" class="result-display"></div>
            </div>
        </div>

        <!-- Eyedrop Calculator -->
        <div class="calculator-section">
            <h2 class="section-title">üëÅÔ∏è Eyedrop Calculator</h2>
            <div class="simple-calculator">
                <div class="form-row">
                    <div class="input-group">
                        <label>Drops per dose:</label>
                        <input type="number" id="drops_per_dose" step="1" min="1">
                    </div>
                    <div class="input-group">
                        <label>Application site:</label>
                        <select id="application_site">
                            <option value="1">One eye</option>
                            <option value="2">Both eyes</option>
                            <option value="1">One ear</option>
                            <option value="2">Both ears</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Frequency per day:</label>
                        <input type="number" id="frequency" step="1" min="1">
                    </div>
                </div>
                <div class="form-row">
                    <div class="input-group">
                        <label>Duration (days):</label>
                        <input type="number" id="duration" step="1" min="1">
                    </div>
                    <div class="input-group">
                        <label>Bottle size (mL):</label>
                        <input type="number" id="bottle_size" step="0.1" min="0.1" value="5">
                    </div>
                </div>
                <button class="calculate-btn" onclick="calculateEyedrops()">Calculate Bottles Needed</button>
                <div id="eyedrop_result" class="result-display"></div>
            </div>
        </div>

        <!-- Footer -->
        <div style="background: #f1f8e9; padding: 20px; text-align: center; border-top: 2px solid #c8e6c9; color: #2d5016; font-size: 0.9em;">
          <p> Built with ‚ù§Ô∏è for pharmacy professionals.  <strong>Always verify dosing with current NZF guidelines and clinical judgment.</strong>  Last updated 05/08/2025 </p>    
        </div>
    </div>

    <script>
        // Tab switching function
        function switchTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));
            
            // Hide all tab buttons active state
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => button.classList.remove('active'));
            
            // Show selected tab content and activate button
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            // Hide all medication forms when switching tabs
            const forms = document.querySelectorAll('.calculator-form');
            forms.forEach(form => form.classList.remove('active'));
        }

        // Show medication form based on selection
        function showMedicationForm(category, medication) {
            // Hide all forms in this category
            const forms = document.querySelectorAll(`#${category} .calculator-form`);
            forms.forEach(form => form.classList.remove('active'));
            
            // Show selected form
            if (medication) {
                const formId = medication + '-form';
                const form = document.getElementById(formId);
                if (form) {
                    form.classList.add('active');
                    console.log(`Showing form: ${formId}`); // Debug log
                } else {
                    console.log(`Form not found: ${formId}`); // Debug log
                }
            }
        }

        // Calculation functions
        function calculateParacetamol120() {
            const weight = parseFloat(document.getElementById('para120_weight').value);
            const volume = parseFloat(document.getElementById('para120_volume').value);
            const resultDiv = document.getElementById('para120_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                const doseMg = Math.min(weight * 15, 1000);
                const volumeMl = (doseMg / 120) * 5;
                result += `<strong>Forward calculation:</strong><br>`;
                result += `Weight: ${weight} kg<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg<br>`;
                result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
            }
            
            if (volume && volume > 0) {
                const doseMg = (volume / 5) * 120;
                const calculatedWeight = doseMg / 15;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight (at 15 mg/kg): ${calculatedWeight.toFixed(1)} kg`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateParacetamol250() {
            const weight = parseFloat(document.getElementById('para250_weight').value);
            const volume = parseFloat(document.getElementById('para250_volume').value);
            const resultDiv = document.getElementById('para250_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                const doseMg = Math.min(weight * 15, 1000);
                const volumeMl = (doseMg / 250) * 5;
                result += `<strong>Forward calculation:</strong><br>`;
                result += `Weight: ${weight} kg<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg<br>`;
                result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
            }
            
            if (volume && volume > 0) {
                const doseMg = (volume / 5) * 250;
                const calculatedWeight = doseMg / 15;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight (at 15 mg/kg): ${calculatedWeight.toFixed(1)} kg`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateIbuprofen() {
            const weight = parseFloat(document.getElementById('ibuprofen_weight').value);
            const dosePerKg = parseFloat(document.getElementById('ibuprofen_dose').value);
            const volume = parseFloat(document.getElementById('ibuprofen_volume').value);
            const resultDiv = document.getElementById('ibuprofen_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                const doseMg = Math.min(weight * dosePerKg, 2400);
                const volumeMl = (doseMg / 100) * 5;
                result += `<strong>Forward calculation:</strong><br>`;
                result += `Weight: ${weight} kg<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg (${dosePerKg} mg/kg)<br>`;
                result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
            }
            
            if (volume && volume > 0) {
                const doseMg = (volume / 5) * 100;
                const calculatedWeight = doseMg / dosePerKg;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight (at ${dosePerKg} mg/kg): ${calculatedWeight.toFixed(1)} kg`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateAmoxicillin125() {
            const weight = parseFloat(document.getElementById('amox125_weight').value);
            const type = document.getElementById('amox125_type').value;
            const volume = parseFloat(document.getElementById('amox125_volume').value);
            const resultDiv = document.getElementById('amox125_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                switch(type) {
                    case 'standard':
                        const minDose = Math.min(weight * 15, 1000);
                        const maxDose = Math.min(weight * 30, 1000);
                        const minVolume = (minDose / 125) * 5;
                        const maxVolume = (maxDose / 125) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose range: ${minDose.toFixed(1)} - ${maxDose.toFixed(1)} mg (15-30 mg/kg)<br>`;
                        result += `Volume range: ${minVolume.toFixed(1)} - ${maxVolume.toFixed(1)} mL<br><br>`;
                        break;
                    case 'strep_under15':
                        if (weight < 15) {
                            const doseMg = weight * 50;
                            const volumeMl = (doseMg / 125) * 5;
                            result += `<strong>Forward calculation:</strong><br>`;
                            result += `Weight: ${weight} kg<br>`;
                            result += `Dose: ${doseMg.toFixed(1)} mg (50 mg/kg - Strep A, under 15kg)<br>`;
                            result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        } else {
                            result += '<div class="warning">Weight is 15kg or over - use different Strep A dosing</div>';
                        }
                        break;
                    case 'strep_15to30':
                        if (weight >= 15 && weight < 30) {
                            const doseMg = 750;
                            const volumeMl = (doseMg / 125) * 5;
                            result += `<strong>Forward calculation:</strong><br>`;
                            result += `Weight: ${weight} kg<br>`;
                            result += `Dose: ${doseMg} mg (Strep A, 15-29.9kg)<br>`;
                            result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        } else {
                            result += '<div class="warning">Weight not in 15-29.9kg range</div>';
                        }
                        break;
                    case 'strep_over30':
                        if (weight >= 30) {
                            const doseMg = 1000;
                            const volumeMl = (doseMg / 125) * 5;
                            result += `<strong>Forward calculation:</strong><br>`;
                            result += `Weight: ${weight} kg<br>`;
                            result += `Dose: ${doseMg} mg (Strep A, 30kg+)<br>`;
                            result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        } else {
                            result += '<div class="warning">Weight is under 30kg</div>';
                        }
                        break;
                }
            }
            
            if (volume && volume > 0) {
                const volumeDoseMg = (volume / 5) * 125;
                const minWeight = volumeDoseMg / 30; // Using max dose for min weight
                const maxWeight = volumeDoseMg / 15; // Using min dose for max weight
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${volumeDoseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight range: ${minWeight.toFixed(1)} - ${maxWeight.toFixed(1)} kg (for 15-30 mg/kg range)`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateAmoxicillin250() {
            const weight = parseFloat(document.getElementById('amox250_weight').value);
            const type = document.getElementById('amox250_type').value;
            const volume = parseFloat(document.getElementById('amox250_volume').value);
            const resultDiv = document.getElementById('amox250_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                switch(type) {
                    case 'standard':
                        const minDose = Math.min(weight * 15, 1000);
                        const maxDose = Math.min(weight * 30, 1000);
                        const minVolume = (minDose / 250) * 5;
                        const maxVolume = (maxDose / 250) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose range: ${minDose.toFixed(1)} - ${maxDose.toFixed(1)} mg (15-30 mg/kg)<br>`;
                        result += `Volume range: ${minVolume.toFixed(1)} - ${maxVolume.toFixed(1)} mL<br><br>`;
                        break;
                    case 'strep_under15':
                        if (weight < 15) {
                            const doseMg = weight * 50;
                            const volumeMl = (doseMg / 250) * 5;
                            result += `<strong>Forward calculation:</strong><br>`;
                            result += `Weight: ${weight} kg<br>`;
                            result += `Dose: ${doseMg.toFixed(1)} mg (50 mg/kg - Strep A, under 15kg)<br>`;
                            result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        } else {
                            result += '<div class="warning">Weight is 15kg or over - use different Strep A dosing</div>';
                        }
                        break;
                    case 'strep_15to30':
                        if (weight >= 15 && weight < 30) {
                            const doseMg = 750;
                            const volumeMl = (doseMg / 250) * 5;
                            result += `<strong>Forward calculation:</strong><br>`;
                            result += `Weight: ${weight} kg<br>`;
                            result += `Dose: ${doseMg} mg (Strep A, 15-29.9kg)<br>`;
                            result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        } else {
                            result += '<div class="warning">Weight not in 15-29.9kg range</div>';
                        }
                        break;
                    case 'strep_over30':
                        if (weight >= 30) {
                            const doseMg = 1000;
                            const volumeMl = (doseMg / 250) * 5;
                            result += `<strong>Forward calculation:</strong><br>`;
                            result += `Weight: ${weight} kg<br>`;
                            result += `Dose: ${doseMg} mg (Strep A, 30kg+)<br>`;
                            result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        } else {
                            result += '<div class="warning">Weight is under 30kg</div>';
                        }
                        break;
                }
            }
            
            if (volume && volume > 0) {
                const volumeDoseMg = (volume / 5) * 250;
                const minWeight = volumeDoseMg / 30;
                const maxWeight = volumeDoseMg / 15;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${volumeDoseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight range: ${minWeight.toFixed(1)} - ${maxWeight.toFixed(1)} kg (for 15-30 mg/kg range)`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateCefaclor125() {
            const weight = parseFloat(document.getElementById('cefaclor125_weight').value);
            const volume = parseFloat(document.getElementById('cefaclor125_volume').value);
            const resultDiv = document.getElementById('cefaclor125_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                const doseMg = Math.min(weight * 10, 500);
                const volumeMl = (doseMg / 125) * 5;
                result += `<strong>Forward calculation:</strong><br>`;
                result += `Weight: ${weight} kg<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg (10 mg/kg)<br>`;
                result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
            }
            
            if (volume && volume > 0) {
                const doseMg = (volume / 5) * 125;
                const calculatedWeight = doseMg / 10;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight (at 10 mg/kg): ${calculatedWeight.toFixed(1)} kg`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateCefalexin125() {
            const weight = parseFloat(document.getElementById('cef125_weight').value);
            const indication = document.getElementById('cef125_indication').value;
            const volume = parseFloat(document.getElementById('cef125_volume').value);
            const resultDiv = document.getElementById('cef125_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                switch(indication) {
                    case 'uti':
                        const doseMg = Math.min(weight * 25, 500);
                        const volumeMl = (doseMg / 125) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose: ${doseMg.toFixed(1)} mg (25 mg/kg - UTI)<br>`;
                        result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        break;
                    case 'cellulitis':
                        const doseMg2 = Math.min(weight * 12.5, 1000);
                        const volumeMl2 = (doseMg2 / 125) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose: ${doseMg2.toFixed(1)} mg (12.5 mg/kg - Cellulitis)<br>`;
                        result += `Volume: ${volumeMl2.toFixed(1)} mL<br><br>`;
                        break;
                    case 'impetigo':
                        const minDose = Math.min(weight * 12.5, 1000);
                        const maxDose = Math.min(weight * 25, 1000);
                        const minVolume = (minDose / 125) * 5;
                        const maxVolume = (maxDose / 125) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose range: ${minDose.toFixed(1)} - ${maxDose.toFixed(1)} mg (12.5-25 mg/kg - Impetigo)<br>`;
                        result += `Volume range: ${minVolume.toFixed(1)} - ${maxVolume.toFixed(1)} mL<br><br>`;
                        break;
                }
            }
            
            if (volume && volume > 0) {
                const volumeDoseMg = (volume / 5) * 125;
                // For reverse calculation, use the middle range for impetigo
                const calculatedWeightMiddle = volumeDoseMg / 18.75;
                const minWeight = volumeDoseMg / 25; // Using max dose for min weight
                const maxWeight = volumeDoseMg / 12.5; // Using min dose for max weight
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${volumeDoseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight: ${calculatedWeightMiddle.toFixed(1)} kg (at 18.75 mg/kg)<br>`;
                result += `Weight range: ${minWeight.toFixed(1)} - ${maxWeight.toFixed(1)} kg (for 12.5-25 mg/kg range)`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateCefalexin250() {
            const weight = parseFloat(document.getElementById('cef250_weight').value);
            const indication = document.getElementById('cef250_indication').value;
            const volume = parseFloat(document.getElementById('cef250_volume').value);
            const resultDiv = document.getElementById('cef250_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                switch(indication) {
                    case 'uti':
                        const doseMg = Math.min(weight * 25, 500);
                        const volumeMl = (doseMg / 250) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose: ${doseMg.toFixed(1)} mg (25 mg/kg - UTI)<br>`;
                        result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        break;
                    case 'cellulitis':
                        const doseMg2 = Math.min(weight * 12.5, 1000);
                        const volumeMl2 = (doseMg2 / 250) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose: ${doseMg2.toFixed(1)} mg (12.5 mg/kg - Cellulitis)<br>`;
                        result += `Volume: ${volumeMl2.toFixed(1)} mL<br><br>`;
                        break;
                    case 'impetigo':
                        const minDose = Math.min(weight * 12.5, 1000);
                        const maxDose = Math.min(weight * 25, 1000);
                        const minVolume = (minDose / 250) * 5;
                        const maxVolume = (maxDose / 250) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose range: ${minDose.toFixed(1)} - ${maxDose.toFixed(1)} mg (12.5-25 mg/kg - Impetigo)<br>`;
                        result += `Volume range: ${minVolume.toFixed(1)} - ${maxVolume.toFixed(1)} mL<br><br>`;
                        break;
                }
            }
            
            if (volume && volume > 0) {
                const volumeDoseMg = (volume / 5) * 250;
                const calculatedWeightMiddle = volumeDoseMg / 18.75;
                const minWeight = volumeDoseMg / 25;
                const maxWeight = volumeDoseMg / 12.5;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${volumeDoseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight: ${calculatedWeightMiddle.toFixed(1)} kg (at 18.75 mg/kg)<br>`;
                result += `Weight range: ${minWeight.toFixed(1)} - ${maxWeight.toFixed(1)} kg (for 12.5-25 mg/kg range)`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateCoAmoxiclav125() {
            const weight = parseFloat(document.getElementById('coamox125_weight').value);
            const type = document.getElementById('coamox125_type').value;
            const volume = parseFloat(document.getElementById('coamox125_volume').value);
            const resultDiv = document.getElementById('coamox125_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                switch(type) {
                    case 'standard':
                        const minDose = Math.min(weight * 15, 625);
                        const maxDose = Math.min(weight * 30, 625);
                        const minVolume = (minDose / 156.25) * 5;
                        const maxVolume = (maxDose / 156.25) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose range: ${minDose.toFixed(1)} - ${maxDose.toFixed(1)} mg (15-30 mg/kg)<br>`;
                        result += `Volume range: ${minVolume.toFixed(1)} - ${maxVolume.toFixed(1)} mL<br><br>`;
                        break;
                    case 'strep_repeat':
                        const doseMg = Math.min(weight * 16.7, 833);
                        const volumeMl = (doseMg / 156.25) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose: ${doseMg.toFixed(1)} mg (16.7 mg/kg - Strep A, 3rd+ episode)<br>`;
                        result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        break;
                }
            }
            
            if (volume && volume > 0) {
                const doseMg = (volume / 5) * 156.25;
                const minWeight = doseMg / 30;
                const maxWeight = doseMg / 15;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight range: ${minWeight.toFixed(1)} - ${maxWeight.toFixed(1)} kg (for 15-30 mg/kg range)`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateCoAmoxiclav250() {
            const weight = parseFloat(document.getElementById('coamox250_weight').value);
            const type = document.getElementById('coamox250_type').value;
            const volume = parseFloat(document.getElementById('coamox250_volume').value);
            const resultDiv = document.getElementById('coamox250_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                switch(type) {
                    case 'standard':
                        const minDose = Math.min(weight * 15, 625);
                        const maxDose = Math.min(weight * 30, 625);
                        const minVolume = (minDose / 312.5) * 5;
                        const maxVolume = (maxDose / 312.5) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose range: ${minDose.toFixed(1)} - ${maxDose.toFixed(1)} mg (15-30 mg/kg)<br>`;
                        result += `Volume range: ${minVolume.toFixed(1)} - ${maxVolume.toFixed(1)} mL<br><br>`;
                        break;
                    case 'strep_repeat':
                        const doseMg = Math.min(weight * 16.7, 833);
                        const volumeMl = (doseMg / 312.5) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose: ${doseMg.toFixed(1)} mg (16.7 mg/kg - Strep A, 3rd+ episode)<br>`;
                        result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        break;
                }
            }
            
            if (volume && volume > 0) {
                const doseMg = (volume / 5) * 312.5;
                const minWeight = doseMg / 30;
                const maxWeight = doseMg / 15;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight range: ${minWeight.toFixed(1)} - ${maxWeight.toFixed(1)} kg (for 15-30 mg/kg range)`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateCotrimoxazole240() {
            const weight = parseFloat(document.getElementById('cotrim240_weight').value);
            const volume = parseFloat(document.getElementById('cotrim240_volume').value);
            const resultDiv = document.getElementById('cotrim240_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                const doseMg = Math.min(weight * 24, 960);
                const volumeMl = (doseMg / 240) * 5;
                result += `<strong>Forward calculation:</strong><br>`;
                result += `Weight: ${weight} kg<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg (24 mg/kg)<br>`;
                result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
            }
            
            if (volume && volume > 0) {
                const doseMg = (volume / 5) * 240;
                const calculatedWeight = doseMg / 24;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight (at 24 mg/kg): ${calculatedWeight.toFixed(1)} kg`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateErythromycin200() {
            const weight = parseFloat(document.getElementById('ery200_weight').value);
            const type = document.getElementById('ery200_type').value;
            const volume = parseFloat(document.getElementById('ery200_volume').value);
            const resultDiv = document.getElementById('ery200_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                switch(type) {
                    case 'standard':
                        const minDose = Math.min(weight * 10, 400);
                        const maxDose = Math.min(weight * 12.5, 400);
                        const minVolume = (minDose / 200) * 5;
                        const maxVolume = (maxDose / 200) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose range: ${minDose.toFixed(1)} - ${maxDose.toFixed(1)} mg (10-12.5 mg/kg)<br>`;
                        result += `Volume range: ${minVolume.toFixed(1)} - ${maxVolume.toFixed(1)} mL<br><br>`;
                        break;
                    case 'strep':
                        const doseMg = Math.min(weight * 20, 800);
                        const volumeMl = (doseMg / 200) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose: ${doseMg.toFixed(1)} mg (20 mg/kg - Strep A, twice daily)<br>`;
                        result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        break;
                }
            }
            
            if (volume && volume > 0) {
                const doseMg = (volume / 5) * 200;
                const minWeight = doseMg / 12.5;
                const maxWeight = doseMg / 10;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight range: ${minWeight.toFixed(1)} - ${maxWeight.toFixed(1)} kg (for 10-12.5 mg/kg range)`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateErythromycin400() {
            const weight = parseFloat(document.getElementById('ery400_weight').value);
            const type = document.getElementById('ery400_type').value;
            const volume = parseFloat(document.getElementById('ery400_volume').value);
            const resultDiv = document.getElementById('ery400_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                switch(type) {
                    case 'standard':
                        const minDose = Math.min(weight * 10, 400);
                        const maxDose = Math.min(weight * 12.5, 400);
                        const minVolume = (minDose / 400) * 5;
                        const maxVolume = (maxDose / 400) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose range: ${minDose.toFixed(1)} - ${maxDose.toFixed(1)} mg (10-12.5 mg/kg)<br>`;
                        result += `Volume range: ${minVolume.toFixed(1)} - ${maxVolume.toFixed(1)} mL<br><br>`;
                        break;
                    case 'strep':
                        const doseMg = Math.min(weight * 20, 800);
                        const volumeMl = (doseMg / 400) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose: ${doseMg.toFixed(1)} mg (20 mg/kg - Strep A, twice daily)<br>`;
                        result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        break;
                }
            }
            
            if (volume && volume > 0) {
                const doseMg = (volume / 5) * 400;
                const minWeight = doseMg / 12.5;
                const maxWeight = doseMg / 10;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight range: ${minWeight.toFixed(1)} - ${maxWeight.toFixed(1)} kg (for 10-12.5 mg/kg range)`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateFlucloxacillin125() {
            const weight = parseFloat(document.getElementById('fluc125_weight').value);
            const dosePerKg = parseFloat(document.getElementById('fluc125_dose').value);
            const volume = parseFloat(document.getElementById('fluc125_volume').value);
            const resultDiv = document.getElementById('fluc125_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                const maxDose = dosePerKg === 12.5 ? 500 : 1000;
                const doseMg = Math.min(weight * dosePerKg, maxDose);
                const volumeMl = (doseMg / 125) * 5;
                result += `<strong>Forward calculation:</strong><br>`;
                result += `Weight: ${weight} kg<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg (${dosePerKg} mg/kg)<br>`;
                result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
            }
            
            if (volume && volume > 0) {
                const doseMg = (volume / 5) * 125;
                const calculatedWeight = doseMg / dosePerKg;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight (at ${dosePerKg} mg/kg): ${calculatedWeight.toFixed(1)} kg`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateFlucloxacillin250() {
            const weight = parseFloat(document.getElementById('fluc250_weight').value);
            const dosePerKg = parseFloat(document.getElementById('fluc250_dose').value);
            const volume = parseFloat(document.getElementById('fluc250_volume').value);
            const resultDiv = document.getElementById('fluc250_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                const maxDose = dosePerKg === 12.5 ? 500 : 1000;
                const doseMg = Math.min(weight * dosePerKg, maxDose);
                const volumeMl = (doseMg / 250) * 5;
                result += `<strong>Forward calculation:</strong><br>`;
                result += `Weight: ${weight} kg<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg (${dosePerKg} mg/kg)<br>`;
                result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
            }
            
            if (volume && volume > 0) {
                const doseMg = (volume / 5) * 250;
                const calculatedWeight = doseMg / dosePerKg;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight (at ${dosePerKg} mg/kg): ${calculatedWeight.toFixed(1)} kg`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculatePhenoxymethylpenicillin125() {
            const weight = parseFloat(document.getElementById('phenoxy125_weight').value);
            const type = document.getElementById('phenoxy125_type').value;
            const volume = parseFloat(document.getElementById('phenoxy125_volume').value);
            const resultDiv = document.getElementById('phenoxy125_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                switch(type) {
                    case 'standard':
                        const minDose = Math.min(weight * 6.25, 250);
                        const maxDose = Math.min(weight * 12.5, 500);
                        const minVolume = (minDose / 125) * 5;
                        const maxVolume = (maxDose / 125) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose range: ${minDose.toFixed(1)} - ${maxDose.toFixed(1)} mg (6.25-12.5 mg/kg)<br>`;
                        result += `Volume range: ${minVolume.toFixed(1)} - ${maxVolume.toFixed(1)} mL<br><br>`;
                        break;
                    case 'strep_under20':
                        if (weight < 20) {
                            const doseMg = 250;
                            const volumeMl = (doseMg / 125) * 5;
                            result += `<strong>Forward calculation:</strong><br>`;
                            result += `Weight: ${weight} kg<br>`;
                            result += `Dose: ${doseMg} mg (Strep A, under 20kg)<br>`;
                            result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        } else {
                            result += '<div class="warning">Weight is 20kg or over - use different Strep A dosing</div>';
                        }
                        break;
                    case 'strep_over20':
                        if (weight >= 20) {
                            const doseMg = 500;
                            const volumeMl = (doseMg / 125) * 5;
                            result += `<strong>Forward calculation:</strong><br>`;
                            result += `Weight: ${weight} kg<br>`;
                            result += `Dose: ${doseMg} mg (Strep A, over 20kg)<br>`;
                            result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        } else {
                            result += '<div class="warning">Weight is under 20kg</div>';
                        }
                        break;
                    case 'strep_repeat':
                        const doseMg = Math.min(weight * 12.5, 500);
                        const volumeMl = (doseMg / 125) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose: ${doseMg.toFixed(1)} mg (12.5 mg/kg - Strep A, 3rd+ episode)<br>`;
                        result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        break;
                }
            }
            
            if (volume && volume > 0) {
                const volumeDoseMg = (volume / 5) * 125;
                const minWeight = volumeDoseMg / 12.5;
                const maxWeight = volumeDoseMg / 6.25;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${volumeDoseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight range: ${minWeight.toFixed(1)} - ${maxWeight.toFixed(1)} kg (for 6.25-12.5 mg/kg range)`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculatePhenoxymethylpenicillin250() {
            const weight = parseFloat(document.getElementById('phenoxy250_weight').value);
            const type = document.getElementById('phenoxy250_type').value;
            const volume = parseFloat(document.getElementById('phenoxy250_volume').value);
            const resultDiv = document.getElementById('phenoxy250_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                switch(type) {
                    case 'standard':
                        const minDose = Math.min(weight * 6.25, 250);
                        const maxDose = Math.min(weight * 12.5, 500);
                        const minVolume = (minDose / 250) * 5;
                        const maxVolume = (maxDose / 250) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose range: ${minDose.toFixed(1)} - ${maxDose.toFixed(1)} mg (6.25-12.5 mg/kg)<br>`;
                        result += `Volume range: ${minVolume.toFixed(1)} - ${maxVolume.toFixed(1)} mL<br><br>`;
                        break;
                    case 'strep_under20':
                        if (weight < 20) {
                            const doseMg = 250;
                            const volumeMl = (doseMg / 250) * 5;
                            result += `<strong>Forward calculation:</strong><br>`;
                            result += `Weight: ${weight} kg<br>`;
                            result += `Dose: ${doseMg} mg (Strep A, under 20kg)<br>`;
                            result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        } else {
                            result += '<div class="warning">Weight is 20kg or over - use different Strep A dosing</div>';
                        }
                        break;
                    case 'strep_over20':
                        if (weight >= 20) {
                            const doseMg = 500;
                            const volumeMl = (doseMg / 250) * 5;
                            result += `<strong>Forward calculation:</strong><br>`;
                            result += `Weight: ${weight} kg<br>`;
                            result += `Dose: ${doseMg} mg (Strep A, over 20kg)<br>`;
                            result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        } else {
                            result += '<div class="warning">Weight is under 20kg</div>';
                        }
                        break;
                    case 'strep_repeat':
                        const doseMg = Math.min(weight * 12.5, 500);
                        const volumeMl = (doseMg / 250) * 5;
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Weight: ${weight} kg<br>`;
                        result += `Dose: ${doseMg.toFixed(1)} mg (12.5 mg/kg - Strep A, 3rd+ episode)<br>`;
                        result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                        break;
                }
            }
            
            if (volume && volume > 0) {
                const volumeDoseMg = (volume / 5) * 250;
                const minWeight = volumeDoseMg / 12.5;
                const maxWeight = volumeDoseMg / 6.25;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${volumeDoseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight range: ${minWeight.toFixed(1)} - ${maxWeight.toFixed(1)} kg (for 6.25-12.5 mg/kg range)`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateRoxithromycin150() {
            const weight = parseFloat(document.getElementById('roxi150_weight').value);
            const type = document.getElementById('roxi150_type').value;
            const tablets = parseFloat(document.getElementById('roxi150_tablets').value);
            const resultDiv = document.getElementById('roxi150_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                if (weight < 40) {
                    switch(type) {
                        case 'standard':
                            const minDose = Math.min(weight * 2.5, 150);
                            const maxDose = Math.min(weight * 4, 150);
                            const minTablets = minDose / 150;
                            const maxTablets = maxDose / 150;
                            result += `<strong>Forward calculation:</strong><br>`;
                            result += `Weight: ${weight} kg<br>`;
                            result += `Dose range: ${minDose.toFixed(1)} - ${maxDose.toFixed(1)} mg (2.5-4 mg/kg)<br>`;
                            result += `Tablets: ${minTablets.toFixed(2)} - ${maxTablets.toFixed(2)} tablets<br><br>`;
                            break;
                        case 'strep':
                            const doseMg = weight * 2.5;
                            const tabletsNeeded = doseMg / 150;
                            result += `<strong>Forward calculation:</strong><br>`;
                            result += `Weight: ${weight} kg<br>`;
                            result += `Dose: ${doseMg.toFixed(1)} mg (2.5 mg/kg - Strep A)<br>`;
                            result += `Tablets: ${tabletsNeeded.toFixed(2)} tablets<br><br>`;
                            break;
                    }
                } else {
                    const doseMg = 150;
                    const tabletsNeeded = 1;
                    result += `<strong>Forward calculation:</strong><br>`;
                    result += `Weight: ${weight} kg<br>`;
                    result += `Dose: ${doseMg} mg (over 40kg)<br>`;
                    result += `Tablets: ${tabletsNeeded} tablet<br><br>`;
                }
            }
            
            if (tablets && tablets > 0) {
                const doseMg = tablets * 150;
                const minWeight = doseMg / 4;
                const maxWeight = doseMg / 2.5;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Tablets given: ${tablets} tablets<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight range: ${minWeight.toFixed(1)} - ${maxWeight.toFixed(1)} kg (for 2.5-4 mg/kg range)`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculatePrednisolone() {
            const weight = parseFloat(document.getElementById('pred_weight').value);
            const dosePerKg = parseFloat(document.getElementById('pred_dose').value);
            const volume = parseFloat(document.getElementById('pred_volume').value);
            const resultDiv = document.getElementById('pred_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                if (dosePerKg === 1) {
                    // Show range for 1 mg/kg option
                    const minDose = Math.min(weight * 1, 40);
                    const maxDose = Math.min(weight * 2, 60);
                    const minVolume = minDose / 5;
                    const maxVolume = maxDose / 5;
                    result += `<strong>Forward calculation:</strong><br>`;
                    result += `Weight: ${weight} kg<br>`;
                    result += `Dose range: ${minDose.toFixed(1)} - ${maxDose.toFixed(1)} mg (1-2 mg/kg)<br>`;
                    result += `Volume range: ${minVolume.toFixed(1)} - ${maxVolume.toFixed(1)} mL<br><br>`;
                } else {
                    // Show specific dose for 2 mg/kg option
                    const doseMg = Math.min(weight * 2, 60);
                    const volumeMl = doseMg / 5;
                    result += `<strong>Forward calculation:</strong><br>`;
                    result += `Weight: ${weight} kg<br>`;
                    result += `Dose: ${doseMg.toFixed(1)} mg (2 mg/kg - high dose/chronic steroid)<br>`;
                    result += `Volume: ${volumeMl.toFixed(1)} mL<br><br>`;
                }
            }
            
            if (volume && volume > 0) {
                const doseMg = volume * 5;
                const minWeight = doseMg / 2;
                const maxWeight = doseMg / 1;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg<br>`;
                result += `Estimated weight range: ${minWeight.toFixed(1)} - ${maxWeight.toFixed(1)} kg (for 1-2 mg/kg range)`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateLactulose() {
            const weight = parseFloat(document.getElementById('lactulose_weight').value);
            const volume = parseFloat(document.getElementById('lactulose_volume').value);
            const resultDiv = document.getElementById('lactulose_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                const volumeMl = weight * 0.5;
                result += `<strong>Forward calculation:</strong><br>`;
                result += `Weight: ${weight} kg<br>`;
                result += `Dose: ${volumeMl.toFixed(1)} mL (0.5 mL/kg)<br><br>`;
            }
            
            if (volume && volume > 0) {
                const calculatedWeight = volume / 0.5;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Estimated weight (at 0.5 mL/kg): ${calculatedWeight.toFixed(1)} kg`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateLoratadine() {
            const category = document.getElementById('loratadine_category').value;
            const volume = parseFloat(document.getElementById('loratadine_volume').value);
            const resultDiv = document.getElementById('loratadine_result');
    
            let result = '';
            let doseMg = 0;
            let categoryDescription = '';
    
            if (category) {
                switch(category) {
                    case '1-2years':
                        doseMg = 2.5;
                        categoryDescription = '1-2 years';
                        break;
                    case '2-12under30':
                        doseMg = 5;
                        categoryDescription = '2-12 years under 30kg';
                        break;
                    case '2-12over30':
                        doseMg = 10;
                        categoryDescription = '2-12 years over 30kg';
                        break;
                    case '12-18years':
                        doseMg = 10;
                        categoryDescription = '12-18 years';
                        break;
                }        
        
                const volumeMl = doseMg;
                result += `<strong>Forward calculation:</strong><br>`;
                result += `Category: ${categoryDescription}<br>`;
                result += `Dose: ${doseMg} mg<br>`;
                result += `Volume: ${volumeMl} mL<br><br>`;
            }
    
            if (volume && volume > 0) {
                const doseMg = volume;
                let possibleCategories = [];
        
                if (doseMg === 2.5) {
                    possibleCategories.push('1-2 years');
                }
                if (doseMg === 5) {
                    possibleCategories.push('2-12 years under 30kg');
                }
                if (doseMg === 10) {
                    possibleCategories.push('2-12 years over 30kg');
                    possibleCategories.push('12-18 years');
                }
        
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg} mg<br>`;
        
                if (possibleCategories.length > 0) {
                    result += `<strong>Possible categories:</strong><br>`;
                    possibleCategories.forEach(cat => {
                        result += `‚Ä¢ ${cat}<br>`;
                    });
                } else {
                    result += `<em>Dose does not match standard loratadine dosing guidelines</em>`;
                }
            }
    
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateMacrogol() {
            const weight = parseFloat(document.getElementById('macrogol_weight').value);
            const type = document.getElementById('macrogol_type').value;
            const sachets = parseFloat(document.getElementById('macrogol_sachets').value);
            const resultDiv = document.getElementById('macrogol_result');
            
            let result = '';
            let dosePerKg = type === 'disimpaction' ? 1.5 : 0.5;
            let doseDescription = type === 'disimpaction' ? '1.5 g/kg (disimpaction)' : '0.5 g/kg (maintenance)';
            
            if (weight && weight > 0) {
                const doseG = weight * dosePerKg;
                const sachetsNeeded = doseG / 13.12;
                result += `<strong>Forward calculation:</strong><br>`;
                result += `Weight: ${weight} kg<br>`;
                result += `Dose: ${doseG.toFixed(1)} g (${doseDescription})<br>`;
                result += `Sachets: ${sachetsNeeded.toFixed(2)} sachets<br><br>`;
            }
            
            if (sachets && sachets > 0) {
                const doseG = sachets * 13.12;
                const calculatedWeight = doseG / dosePerKg;
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Sachets given: ${sachets} sachets<br>`;
                result += `Dose: ${doseG.toFixed(1)} g<br>`;
                result += `Estimated weight (at ${dosePerKg} g/kg): ${calculatedWeight.toFixed(1)} kg`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateFerrousSulphate() {
            const weight = parseFloat(document.getElementById('ferrous_weight').value);
            const dosePerKg = parseFloat(document.getElementById('ferrous_dose').value);
            const volume = parseFloat(document.getElementById('ferrous_volume').value);
            const resultDiv = document.getElementById('ferrous_result');
            
            let result = '';
            
            if (weight && weight > 0) {
                if (dosePerKg === 0.5) {
                    // Show range for 0.5 mL/kg option
                    const minVolume = Math.min(weight * 0.5, 30); // 0.5 mL/kg, max 30mL
                    const maxVolume = Math.min(weight * 1, 30);   // 1 mL/kg, max 30mL
                    const minDose = minVolume * 30; // 30mg/mL concentration
                    const maxDose = maxVolume * 30;
                    
                    result += `<strong>Forward calculation:</strong><br>`;
                    result += `Weight: ${weight} kg<br>`;
                    result += `Volume range: ${minVolume.toFixed(1)} - ${maxVolume.toFixed(1)} mL (0.5-1 mL/kg)<br>`;
                    result += `Dose range: ${minDose.toFixed(1)} - ${maxDose.toFixed(1)} mg ferrous sulphate<br>`;
                    result += `Elemental iron: ${(minDose/5).toFixed(1)} - ${(maxDose/5).toFixed(1)} mg<br><br>`;
                } else {
                    // Show specific dose for 1 mL/kg option
                    const volumeMl = Math.min(weight * 1, 30); // 1 mL/kg, max 30mL
                    const doseMg = volumeMl * 30; // 30mg/mL concentration
                    
                    result += `<strong>Forward calculation:</strong><br>`;
                    result += `Weight: ${weight} kg<br>`;
                    result += `Volume: ${volumeMl.toFixed(1)} mL (1 mL/kg - maximum)<br>`;
                    result += `Dose: ${doseMg.toFixed(1)} mg ferrous sulphate<br>`;
                    result += `Elemental iron: ${(doseMg/5).toFixed(1)} mg<br><br>`;
                }
            }
            
            if (volume && volume > 0) {
                const doseMg = volume * 30; // 30mg/mL ferrous sulphate
                const elementalIron = doseMg / 5; // 6mg/mL elemental iron = 30mg/5
                const minWeight = volume / 1;  // Using max dose for min weight
                const maxWeight = volume / 0.5; // Using min dose for max weight
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg ferrous sulphate<br>`;
                result += `Elemental iron: ${elementalIron.toFixed(1)} mg<br>`;
                result += `Estimated weight range: ${minWeight.toFixed(1)} - ${maxWeight.toFixed(1)} kg (for 0.5-1 mL/kg range)`;
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateColecalciferol() {
            const age = document.getElementById('colecalciferol_age').value;
            const frequency = document.getElementById('colecalciferol_frequency').value;
            const drops = parseFloat(document.getElementById('colecalciferol_drops').value);
            const volume = parseFloat(document.getElementById('colecalciferol_volume').value);
            const resultDiv = document.getElementById('colecalciferol_result');
            
            let result = '';
            let doseMcg = 0;
            let doseDescription = '';
            
            if (age) {
                switch(age) {
                    case 'neonate':
                        doseMcg = 10;
                        doseDescription = '10 mcg (400 units) daily - Neonate';
                        break;
                    case '1month-12years':
                        doseMcg = 10;
                        doseDescription = '10 mcg (400 units) daily - 1 month to 12 years';
                        break;
                    case '12-18years':
                        if (frequency === 'daily') {
                            doseMcg = 10;
                            doseDescription = '10 mcg (400 units) daily - 12-18 years';
                        } else {
                            doseMcg = 1250;
                            doseDescription = '1250 mcg (50,000 units) monthly - 12-18 years';
                        }
                        break;
                }
                
                const dropsNeeded = doseMcg / 10;
                const volumeMl = doseMcg / 188;
                
                result += `<strong>Forward calculation:</strong><br>`;
                result += `Age group: ${age.replace('-', ' to ')}<br>`;
                result += `Dose: ${doseMcg} mcg (${doseDescription})<br>`;
                result += `Drops: ${dropsNeeded} drops<br>`;
                result += `Volume: ${volumeMl.toFixed(3)} mL<br><br>`;
            }
            
            if (drops && drops > 0) {
                const doseMcgFromDrops = drops * 10;
                const volumeFromDrops = drops / 18.8;
                result += `<strong>Reverse calculation (from drops):</strong><br>`;
                result += `Drops given: ${drops} drops<br>`;
                result += `Dose: ${doseMcgFromDrops} mcg<br>`;
                result += `Volume: ${volumeFromDrops.toFixed(3)} mL<br>`;
                
                if (doseMcgFromDrops === 10) {
                    result += `<em>This matches the standard daily dose</em><br><br>`;
                } else if (doseMcgFromDrops === 1250) {
                    result += `<em>This matches the monthly dose for 12-18 years</em><br><br>`;
                } else {
                    result += `<em>Check if this dose is appropriate for the patient</em><br><br>`;
                }
            }
            
            if (volume && volume > 0) {
                const doseMcgFromVolume = volume * 188;
                const dropsFromVolume = volume * 18.8;
                result += `<strong>Reverse calculation (from volume):</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMcgFromVolume.toFixed(1)} mcg<br>`;
                result += `Drops: ${dropsFromVolume.toFixed(1)} drops<br>`;
                
                if (Math.abs(doseMcgFromVolume - 10) < 1) {
                    result += `<em>This matches the standard daily dose</em>`;
                } else if (Math.abs(doseMcgFromVolume - 1250) < 50) {
                    result += `<em>This matches the monthly dose for 12-18 years</em>`;
                } else {
                    result += `<em>Check if this dose is appropriate for the patient</em>`;
                }
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateInsulin() {
            const unitsPerDay = parseFloat(document.getElementById('insulin_units').value);
            const days = parseFloat(document.getElementById('insulin_days').value);
            const resultDiv = document.getElementById('insulin_result');
            
            if (!unitsPerDay || !days || unitsPerDay <= 0 || days <= 0) {
                alert('Please enter valid values for units per day and days of supply');
                return;
            }
            
            const totalUnits = unitsPerDay * days;
            const cartridgesNeeded = Math.ceil(totalUnits / 300);
            const vialsNeeded = Math.ceil(totalUnits / 1000);
            
            let result = `
                <h3>Insulin Supply Calculation</h3>
                <p><strong>Total units needed:</strong> ${totalUnits} units (${unitsPerDay} units/day √ó ${days} days)</p>
                <hr>
                <p><strong>Cartridges/Pens needed:</strong> ${cartridgesNeeded} cartridges</p>
                <p><em>Each cartridge contains 300 units (100 IU/mL √ó 3mL)</em></p>
                <hr>
                <p><strong>Vials needed:</strong> ${vialsNeeded} vials</p>
                <p><em>Each vial contains 1000 units (100 IU/mL √ó 10mL)</em></p>
            `;
            
            resultDiv.innerHTML = result;
            resultDiv.style.display = 'block';
        }

        function calculateCetirizine() {
            const age = document.getElementById('cetirizine_age').value;
            const volume = parseFloat(document.getElementById('cetirizine_volume').value);
            const resultDiv = document.getElementById('cetirizine_result');
            
            let result = '';
            
            // Forward calculation
            if (age) {
                switch(age) {
                    case '6-11months':
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Age group: 6-11 months<br>`;
                        result += `Dose: 2.5 mg once daily<br>`;
                        result += `Volume: 2.5 mL<br><br>`;
                        break;
                    case '12-23months':
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Age group: 12-23 months<br>`;
                        result += `Dose range: 2.5 - 5.0 mg daily<br>`;
                        result += `Volume range: 2.5 - 5.0 mL<br>`;
                        result += `<em>2.5 mg once daily, increased to max 2.5 mg twice daily as required</em><br><br>`;
                        break;
                    case '2-5years':
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Age group: 2-5 years<br>`;
                        result += `Dose range: 2.5 - 5.0 mg daily<br>`;
                        result += `Volume range: 2.5 - 5.0 mL<br>`;
                        result += `<em>2.5 mg once daily, increased to max 5 mg daily in 1-2 divided doses</em><br><br>`;
                        break;
                    case '6-11years':
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Age group: 6-11 years<br>`;
                        result += `Dose range: 5.0 - 10.0 mg once daily<br>`;
                        result += `Volume range: 5.0 - 10.0 mL<br>`;
                        result += `<em>Depending on symptom severity</em><br><br>`;
                        break;
                    case '12-18years':
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Age group: 12-18 years<br>`;
                        result += `Dose range: 5.0 - 10.0 mg once daily<br>`;
                        result += `Volume range: 5.0 - 10.0 mL<br>`;
                        result += `<em>Depending on symptom severity; usual starting dose is 10 mg</em><br><br>`;
                        break;
                }
            }
            
            // Reverse calculation
            if (volume && volume > 0) {
                const doseMg = volume; // 1mg/mL concentration
                let possibleAges = [];
                
                // Check which age groups could match this dose
                if (doseMg === 2.5) {
                    possibleAges.push('6-11 months (2.5 mg daily)');
                    possibleAges.push('12-23 months (2.5 mg daily - minimum)');
                    possibleAges.push('2-5 years (2.5 mg daily - minimum)');
                }
                if (doseMg === 5.0) {
                    possibleAges.push('12-23 months (5 mg daily - maximum)');
                    possibleAges.push('2-5 years (5 mg daily - maximum)');
                    possibleAges.push('6-11 years (5 mg daily - minimum)');
                    possibleAges.push('12-18 years (5 mg daily - minimum)');
                }
                if (doseMg === 10.0) {
                    possibleAges.push('6-11 years (10 mg daily - maximum)');
                    possibleAges.push('12-18 years (10 mg daily - usual starting dose)');
                }
                if (doseMg > 2.5 && doseMg < 5.0) {
                    possibleAges.push('12-23 months (within 2.5-5 mg range)');
                    possibleAges.push('2-5 years (within 2.5-5 mg range)');
                }
                if (doseMg > 5.0 && doseMg < 10.0) {
                    possibleAges.push('6-11 years (within 5-10 mg range)');
                    possibleAges.push('12-18 years (within 5-10 mg range)');
                }
                
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg} mg<br>`;
                
                if (possibleAges.length > 0) {
                    result += `<strong>Possible age groups:</strong><br>`;
                    possibleAges.forEach(age => {
                        result += `‚Ä¢ ${age}<br>`;
                    });
                } else {
                    result += `<em>Dose does not match standard cetirizine dosing guidelines</em>`;
                }
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            } else {
                alert('Please select an age group or enter a volume for reverse calculation');
            }
        }

        function calculateEyedrops() {
            const dropsPerDose = parseFloat(document.getElementById('drops_per_dose').value);
            const sites = parseFloat(document.getElementById('application_site').value);
            const frequency = parseFloat(document.getElementById('frequency').value);
            const duration = parseFloat(document.getElementById('duration').value);
            const bottleSize = parseFloat(document.getElementById('bottle_size').value);
            const resultDiv = document.getElementById('eyedrop_result');
            
            if (!dropsPerDose || !frequency || !duration || !bottleSize || 
                dropsPerDose <= 0 || frequency <= 0 || duration <= 0 || bottleSize <= 0) {
                alert('Please enter valid values for all fields');
                return;
            }
            
            const totalDropsPerDay = dropsPerDose * sites * frequency;
            const totalDrops = totalDropsPerDay * duration;
            const totalVolumeML = totalDrops / 12;
            const bottlesNeeded = Math.ceil(totalVolumeML / bottleSize);
            
            let result = `
                <h3>Eyedrop/Eardrop Calculation</h3>
                <p><strong>Drops per application:</strong> ${dropsPerDose} drops √ó ${sites} site(s) = ${dropsPerDose * sites} drops per dose</p>
                <p><strong>Drops per day:</strong> ${dropsPerDose * sites} drops √ó ${frequency} times daily = ${totalDropsPerDay} drops/day</p>
                <p><strong>Total drops needed:</strong> ${totalDropsPerDay} drops/day √ó ${duration} days = ${totalDrops} drops</p>
                <hr>
                <p><strong>Volume needed:</strong> ${totalVolumeML.toFixed(2)} mL (${totalDrops} drops √∑ 12 drops/mL)</p>
                <p><strong>Bottles needed:</strong> ${bottlesNeeded} bottles of ${bottleSize} mL each</p>
                <p><em>Total volume provided: ${(bottlesNeeded * bottleSize).toFixed(1)} mL</em></p>
            `;
            
            resultDiv.innerHTML = result;
            resultDiv.style.display = 'block';
        }

        function calculateOmeprazole1() {
            const category = document.getElementById('omeprazole1_category').value;
            const weight = parseFloat(document.getElementById('omeprazole1_weight').value);
            const volume = parseFloat(document.getElementById('omeprazole1_volume').value);
            const resultDiv = document.getElementById('omeprazole1_result');
    
            let result = '';
    
            if (category && weight && weight > 0) {
                let minDose = 0, maxDose = 0, description = '';
        
                switch(category) {
                    case 'neonate':
                        minDose = weight * 0.7;
                        maxDose = weight * 2.8;
                        description = '0.7-2.8 mg/kg (700 micrograms to 2.8 mg/kg)';
                        break;
                    case '1month-2years':
                        minDose = weight * 0.7;
                        maxDose = Math.min(weight * 3, 20);
                        description = '0.7 mg/kg to 3 mg/kg (maximum 20 mg)';
                        break;
                    case 'over2':
                            if (weight >= 10 && weight <= 20) {
                                minDose = 10;
                                maxDose = 20;
                                description = '10-20 mg (10-20kg body weight)';
                            } else if (weight > 20) {
                                minDose = 20;
                                maxDose = 40;
                                description = '20-40 mg (over 20kg body weight)';
                            } else {
                                result += '<div class="warning">Weight should be 10kg or over for children over 2 years</div>';
                            }
                            break;
                }
        
                if (minDose > 0) {
                    const minVolume = minDose / 1; // 1mg/mL concentration
                    const maxVolume = maxDose / 1;
                    result += `<strong>Forward calculation:</strong><br>`;
                    result += `Category: ${category}<br>`;
                    result += `Weight: ${weight} kg<br>`;
                    result += `Dose range: ${minDose.toFixed(1)} - ${maxDose.toFixed(1)} mg (${description})<br>`;
                    result += `Volume range: ${minVolume.toFixed(1)} - ${maxVolume.toFixed(1)} mL<br><br>`;
                }
            }
    
            if (volume && volume > 0) {
                const doseMg = volume * 1; // 1mg/mL concentration
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg<br>`;
            }
    
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateOmeprazole2() {
            const category = document.getElementById('omeprazole2_category').value;
            const weight = parseFloat(document.getElementById('omeprazole2_weight').value);
            const volume = parseFloat(document.getElementById('omeprazole2_volume').value);
            const resultDiv = document.getElementById('omeprazole2_result');
    
            let result = '';
    
            if (category && weight && weight > 0) {
                let minDose = 0, maxDose = 0, description = '';
        
                switch(category) {
                    case 'neonate':
                        minDose = weight * 0.7;
                        maxDose = weight * 2.8;
                        description = '0.7-2.8 mg/kg (700 micrograms to 2.8 mg/kg)';
                        break;
                    case '1month-2years':
                        minDose = weight * 0.7;
                        maxDose = Math.min(weight * 3, 20);
                        description = '0.7 mg/kg to 3 mg/kg (maximum 20 mg)';
                        break;
                    case 'over2':
                            if (weight >= 10 && weight <= 20) {
                                minDose = 10;
                                maxDose = 20;
                                description = '10-20 mg (10-20kg body weight)';
                            } else if (weight > 20) {
                                minDose = 20;
                                maxDose = 40;
                                description = '20-40 mg (over 20kg body weight)';
                            } else {
                                result += '<div class="warning">Weight should be 10kg or over for children over 2 years</div>';
                            }
                            break;
                }
        
                if (minDose > 0) {
                    const minVolume = minDose / 2; // 2mg/mL concentration
                    const maxVolume = maxDose / 2;
                    result += `<strong>Forward calculation:</strong><br>`;
                    result += `Category: ${category}<br>`;
                    result += `Weight: ${weight} kg<br>`;
                    result += `Dose range: ${minDose.toFixed(1)} - ${maxDose.toFixed(1)} mg (${description})<br>`;
                    result += `Volume range: ${minVolume.toFixed(1)} - ${maxVolume.toFixed(1)} mL<br><br>`;
                }
            }
    
            if (volume && volume > 0) {
                const doseMg = volume * 2; // 2mg/mL concentration
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg.toFixed(1)} mg<br>`;
            }
    
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }

        function calculateCetirizine() {
            const age = document.getElementById('cetirizine_age').value;
            const volume = parseFloat(document.getElementById('cetirizine_volume').value);
            const resultDiv = document.getElementById('cetirizine_result');
            
            let result = '';
            
            // Forward calculation
            if (age) {
                let doseInfo = '';
                
                switch(age) {
                    case '6-11months':
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Age group: 6-11 months<br>`;
                        result += `Dose: 2.5 mg once daily<br>`;
                        result += `Volume: 2.5 mL<br><br>`;
                        break;
                    case '12-23months':
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Age group: 12-23 months<br>`;
                        result += `Dose range: 2.5 - 5.0 mg daily<br>`;
                        result += `Volume range: 2.5 - 5.0 mL<br>`;
                        result += `<em>2.5 mg once daily, increased to max 2.5 mg twice daily as required</em><br><br>`;
                        break;
                    case '2-5years':
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Age group: 2-5 years<br>`;
                        result += `Dose range: 2.5 - 5.0 mg daily<br>`;
                        result += `Volume range: 2.5 - 5.0 mL<br>`;
                        result += `<em>2.5 mg once daily, increased to max 5 mg daily in 1-2 divided doses</em><br><br>`;
                        break;
                    case '6-11years':
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Age group: 6-11 years<br>`;
                        result += `Dose range: 5.0 - 10.0 mg once daily<br>`;
                        result += `Volume range: 5.0 - 10.0 mL<br>`;
                        result += `<em>Depending on symptom severity</em><br><br>`;
                        break;
                    case '12-18years':
                        result += `<strong>Forward calculation:</strong><br>`;
                        result += `Age group: 12-18 years<br>`;
                        result += `Dose range: 5.0 - 10.0 mg once daily<br>`;
                        result += `Volume range: 5.0 - 10.0 mL<br>`;
                        result += `<em>Depending on symptom severity; usual starting dose is 10 mg</em><br><br>`;
                        break;
                }
            }
            
            // Reverse calculation
            if (volume && volume > 0) {
                const doseMg = volume; // 1mg/mL concentration
                let possibleAges = [];
                
                // Check which age groups could match this dose
                if (doseMg === 2.5) {
                    possibleAges.push('6-11 months (2.5 mg daily)');
                    possibleAges.push('12-23 months (2.5 mg daily - minimum)');
                    possibleAges.push('2-5 years (2.5 mg daily - minimum)');
                }
                if (doseMg === 5.0) {
                    possibleAges.push('12-23 months (5 mg daily - maximum)');
                    possibleAges.push('2-5 years (5 mg daily - maximum)');
                    possibleAges.push('6-11 years (5 mg daily - minimum)');
                    possibleAges.push('12-18 years (5 mg daily - minimum)');
                }
                if (doseMg === 10.0) {
                    possibleAges.push('6-11 years (10 mg daily - maximum)');
                    possibleAges.push('12-18 years (10 mg daily - usual starting dose)');
                }
                if (doseMg > 2.5 && doseMg < 5.0) {
                    possibleAges.push('12-23 months (within 2.5-5 mg range)');
                    possibleAges.push('2-5 years (within 2.5-5 mg range)');
                }
                if (doseMg > 5.0 && doseMg < 10.0) {
                    possibleAges.push('6-11 years (within 5-10 mg range)');
                    possibleAges.push('12-18 years (within 5-10 mg range)');
                }
                
                result += `<strong>Reverse calculation:</strong><br>`;
                result += `Volume given: ${volume} mL<br>`;
                result += `Dose: ${doseMg} mg<br>`;
                
                if (possibleAges.length > 0) {
                    result += `<strong>Possible age groups:</strong><br>`;
                    possibleAges.forEach(age => {
                        result += `‚Ä¢ ${age}<br>`;
                    });
                } else {
                    result += `<em>Dose does not match standard cetirizine dosing guidelines</em>`;
                }
            }
            
            if (result) {
                resultDiv.innerHTML = result;
                resultDiv.style.display = 'block';
            }
        }
    </script>
</body>
</html>